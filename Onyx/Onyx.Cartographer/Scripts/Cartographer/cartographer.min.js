var Onyx;!function(a){var t=function(){function a(a){this.stfsPackage=a,this.Init(),this.ValidatePackage()}return a.prototype.Init=function(){},a.prototype.ValidatePackage=function(){var a=!0;if(1297287449==this.stfsPackage.metaData.titleID&&this.stfsPackage.FileExists("variant")||(a=!1),a){var t=this.stfsPackage.ExtractFileFromPath("variant",function(){});if(t.buffer.byteLength>35e3)return showModal(ModalTypes.ErrorModal,"Invalid Halo 4 Gametype","The selected gametype is not a valid Halo 4 gametype."),void 0;cartographer=this,this.UploadVariant(t)}else showModal(ModalTypes.ErrorModal,"Invalid Halo 4 Gametype","The selected gametype is not a valid Halo 4 gametype.")},a.prototype.UploadVariant=function(a){$.ajax({type:"POST",url:"http://localhost:1337/api/variant/",data:a.buffer,headers:{"Content-Type":"application/json"},processData:!1,success:function(a){window.location.hash="Create/Modify",$(".scriptData > #scriptmod").val(a),document.getElementById("scriptmod"),CodeMirror.fromTextArea(document.getElementById("scriptmod"),{lineNumbers:!0,theme:"xq-light"}),$(".CodeMirror").css("height",$(window).outerHeight()-$(".nav-tabs").outerHeight()-$("#gamesaveModify > h1").outerHeight()-130)}})},a}();a.Cartographer=t}(Onyx||(Onyx={}));var cartographer=null;$(window).on("beforeunload",function(){return null!==cartographer?"Are you sure you want to exit Onyx? Any un-saved data will be lost.":void 0});